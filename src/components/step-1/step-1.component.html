<div class="bg-white p-8 rounded-lg shadow-md animate-fade-in">
  <h2 class="text-2xl font-light text-gray-800 mb-6">Dê-nos informações sobre o seu imóvel</h2>
  
  <form (submit)="$event.preventDefault(); onNext()">
    <div class="space-y-8">
      
      <!-- Finalidade -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Finalidade</label>
        <div class="flex items-center space-x-6">
          @for (item of ['Vender', 'Arrendar', 'Trespasse']; track item) {
            <label class="flex items-center cursor-pointer">
              <input type="radio" name="purpose" class="hidden" [value]="item" [checked]="purpose() === item" (change)="purpose.set($any(item))" />
              <span class="w-5 h-5 border-2 rounded-full flex items-center justify-center transition-all" [class.border-era-red]="purpose() === item" [class.border-gray-300]="purpose() !== item">
                @if (purpose() === item) {
                  <span class="w-2.5 h-2.5 bg-era-red rounded-full"></span>
                }
              </span>
              <span class="ml-2 text-gray-700">{{ item }}</span>
            </label>
          }
        </div>
      </div>

      <!-- Tipo de Imóvel -->
      <div>
        <label for="propertyType" class="block text-sm font-medium text-gray-700">Tipo de Imóvel</label>
        <select id="propertyType" 
                class="mt-1 block w-full px-3 py-2 bg-white border rounded-md shadow-sm focus:outline-none focus:ring-era-red focus:border-era-red sm:text-sm"
                [class.border-red-500]="submitted() && errors()['propertyType']"
                [class.border-gray-300]="!submitted() || !errors()['propertyType']"
                (change)="propertyType.set($any($event.target).value)">
          <option value="" disabled [selected]="!propertyType()">Tipo de Imóvel</option>
          <option value="Apartamento" [selected]="propertyType() === 'Apartamento'">Apartamento</option>
          <option value="Moradia" [selected]="propertyType() === 'Moradia'">Moradia</option>
          <option value="Terreno" [selected]="propertyType() === 'Terreno'">Terreno</option>
          <option value="Loja" [selected]="propertyType() === 'Loja'">Loja</option>
        </select>
        @if (submitted() && errors()['propertyType']) {
          <p class="mt-2 text-sm text-red-600 flex items-center">
            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
            {{ errors()['propertyType'] }}
          </p>
        }
      </div>

      <!-- Localização & N da Porta -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="md:col-span-2">
          <label for="location" class="block text-sm font-medium text-gray-700">Localização</label>
          <div class="mt-1 relative rounded-md shadow-sm">
             <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" /></svg>
            </div>
            <input type="text" id="location" 
                   class="block w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-era-red focus:border-era-red sm:text-sm"
                   [class.border-red-500]="submitted() && errors()['location']"
                   [class.border-gray-300]="!submitted() || !errors()['location']"
                   placeholder="Insira um código postal ou morada"
                   [value]="location()" (input)="location.set($any($event.target).value)">
          </div>
          @if (submitted() && errors()['location']) {
            <p class="mt-2 text-sm text-red-600 flex items-center">
              <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
              {{ errors()['location'] }}
            </p>
          }
        </div>
        <div>
          <label for="doorNumber" class="block text-sm font-medium text-gray-700">Nº da Porta</label>
          <input type="text" id="doorNumber" 
                 class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-era-red focus:border-era-red sm:text-sm"
                 placeholder="Insira o nº de porta"
                 [value]="doorNumber()" (input)="doorNumber.set($any($event.target).value)">
        </div>
      </div>
    </div>
    
    <div class="mt-8 text-right">
      <button type="submit" class="bg-era-red text-white font-bold py-3 px-8 rounded-md hover:bg-red-700 transition-colors duration-300">
        Seguinte
      </button>
    </div>
  </form>
</div>