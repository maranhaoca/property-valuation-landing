<div class="bg-white p-8 rounded-lg shadow-md animate-fade-in">
    @if (!isSubmitted()) {
        <header class="mb-10">
            <h2 class="text-3xl font-light text-gray-800 tracking-tight mb-2">Confirme os dados</h2>
            <div class="h-1 w-20 bg-era-red rounded-full"></div>
        </header>

        <div class="border-t border-b border-gray-200 divide-y divide-gray-200">
            @if (valuationData().zipCode) {
                <div class="py-3 flex justify-between text-sm">
                    <span class="font-medium text-gray-600">Localização</span>
                    <span class="text-gray-800">{{ valuationData().zipCode | zipCodeFormat }}</span>
                </div>
            }
            @if (valuationData().propertyType) {
                <div class="py-3 flex justify-between text-sm">
                    <span class="font-medium text-gray-600">Tipo de Imóvel</span>
                    <span class="text-gray-800">{{ valuationData().propertyType }}
                        para {{ valuationData().purpose }}</span>
                </div>
            }
            @if (valuationData().area) {
                <div class="py-3 flex justify-between text-sm">
                    <span class="font-medium text-gray-600">Área</span>
                    <span class="text-gray-800">{{ valuationData().area }} m²</span>
                </div>
            }
            @if (valuationData().bathrooms) {
                <div class="py-3 flex justify-between text-sm">
                    <span class="font-medium text-gray-600">Casas de Banho</span>
                    <span class="text-gray-800">{{ valuationData().bathrooms }}</span>
                </div>
            }
            @if (valuationData().name) {
                <div class="py-3 flex justify-between text-sm">
                    <span class="font-medium text-gray-600">Contato</span>
                    <span class="text-gray-800">{{ valuationData().name }} ({{ valuationData().email }})</span>
                </div>
            }
        </div>

        <div class="pt-10 flex justify-between items-center border-t border-gray-50">
            <button type="button" (click)="previousStep.emit()"
                    class="text-black font-bold py-4 px-8 rounded-xl border border-b-era-gray-dark hover:bg-red-50 transition-colors duration-300">
                Anterior
            </button>
            <button type="submit" (click)="submitRequest()"
                    class="bg-[--color-era-red] text-white font-bold py-4 px-12 rounded-xl block border-none opacity-100">
                Seguinte
            </button>
        </div>
    } @else {
        <div class="text-center py-12">
            <svg class="mx-auto h-16 w-16 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h2 class="mt-4 text-2xl font-light text-gray-800">Pedido Enviado com Sucesso!</h2>
            <p class="mt-2 text-gray-600">Obrigado pelo seu interesse. Um dos nossos agentes entrará em contato consigo
                em breve com a sua avaliação.</p>
            <div class="mt-8">
                <button (click)="restart.emit()"
                        class="text-era-red font-bold py-2 px-6 rounded-md border border-era-red hover:bg-red-50 transition-colors duration-300">
                    Fazer Nova Avaliação
                </button>
            </div>
        </div>
    }
</div>
